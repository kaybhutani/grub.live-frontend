(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[3],{32:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(c){r=!0,l=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))},33:function(e){e.exports=JSON.parse('{"a":"https://grub-live-backend.herokuapp.com"}')},34:function(e,t,a){e.exports=a.p+"static/media/three_dots_loading.4d1c15f3.svg"},35:function(e){e.exports=JSON.parse('{"Light":{"color":"#000000","backgroundColor":"#ffffff","fontFamily":"lato"},"Dark":{"color":"#ffffff","backgroundColor":"#000000","fontFamily":"lato"},"Christmas":{"color":"#db3d3d","backgroundColor":"#003301","backgroundImage":"url(\\"https://res.cloudinary.com/kartikay/image/upload/v1606767929/christmasbg_x98khj.svg\\")","fontFamily":"TypewriterBold"},"FastFood":{"color":"#663c00","backgroundImage":"url(\\"https://res.cloudinary.com/kartikay/image/upload/v1607074740/FastFood_oz12zw.svg\\")","fontFamily":"Mayan"},"FastFood-light":{"color":"#000b2e","backgroundColor":"#bcc5d7","backgroundImage":"url(\\"https://res.cloudinary.com/kartikay/image/upload/v1607964364/fastfood-light_lkravx.svg\\")","fontFamily":"Mayan"},"FastFood-dark":{"color":"#bcc5d7","backgroundColor":"#01214b","backgroundImage":"url(\\"https://res.cloudinary.com/kartikay/image/upload/v1607964364/fastfood-dark_wsi3dd.svg\\")","fontFamily":"Mayan"}}')},37:function(e){e.exports=JSON.parse('{"a":{"emailId":"","logo":"","bio":"The Best Fast food Restaurant in New Delhi.\\nPh: +91 8802999631","customizedMenu":false,"menu":{"theme":{"color":"#db3d3d","backgroundColor":"#003301","backgroundImage":"url(\\"https://res.cloudinary.com/kartikay/image/upload/v1606767929/christmasbg_x98khj.svg\\")","fontFamily":"TypewriterBold"},"categories":[{"items":[{"itemName":"Chicken Tikka","itemPrice":"Rs. 99","itemDescription":"Sample item description"},{"itemName":"Grilled Chicken Burger","itemPrice":"$ 3.99","itemDescription":"Sample item description. Sample item description. Sample item description"},{"itemName":"Cheese and Bacon","itemPrice":"\u20ac 4.99","itemDescription":"Sample item description"},{"itemName":"Aalo Tikki ","itemPrice":"\u20b9 59","itemDescription":"Sample item description"},{"itemName":"Veggie special","itemPrice":"\u20b9 79","itemDescription":"Sample item description"}],"title":"Burger\'s \ud83c\udf54","type":"text"},{"items":[{"itemName":"Chowmein","itemPrice":"Half: \u20b999, Full: \u20b9169"},{"itemName":"Veg Momos","itemPrice":"\u20b9100 /10pc","itemDescription":"Sample item description"},{"itemName":"Chicken Momos","itemPrice":"\u20b9130 /10pc"},{"itemName":"Manchurian","itemPrice":"Half: \u20b9199,  Full: \u20b9269","itemDescription":"Sample item description"}],"title":"Chinese Food \ud83c\udf5c","type":"text"},{"items":[{"itemName":"Lemon Ice tea","itemPrice":"$ 2.99"},{"itemName":"Cold Coffee","itemPrice":"Rs. 99"},{"itemName":"Hot Coffee","itemPrice":"Rs. 79"},{"itemName":"Classic Mojito","itemPrice":"Rs. 129"}],"title":"Beverages \ud83c\udf79","type":"text"}]},"restaurantName":"Henry\'s Cafe"}}')},38:function(e){e.exports=JSON.parse('{"Almada":"Almada","Florence":"Florence","Gold stick":"Goldstick","Lato":"Lato","Mayan":"Mayan","The Wanters":"TheWanters","Typewriter":"Typewriter","Typewriter Bold":"TypewriterBold","Vintages":"Vintages","Vogue":"Vogue","Yellow Sun":"YelloSun"}')},50:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.r(t);var i=a(32),o=a(0),c=a.n(o),m=a(1),u=a(33),s=a(37),d=a(35),p=a(38),f=function(e){var t=e.edit,a=e.menuId,n=e.hash,r=e.restaurantDetails,m=e.setRestaurantDetails,f=r.customizedMenu,g=Object(o.useState)(!1),h=Object(i.a)(g,2),b=h[0],E=h[1],y=Object(o.useState)(!1),v=Object(i.a)(y,2),N=v[0],k=v[1],w=function(e){var t=l({},r);t.menu.categories[e].items.push({itemName:"",itemPrice:""}),m(t)},C=function(e,t,a,n){var i=l({},r);"name"===e?i.menu.categories[a].items[n].itemName=t.target.value:"price"===e?i.menu.categories[a].items[n].itemPrice=t.target.value:i.menu.categories[a].items[n].itemDescription=t.target.value,m(i)},O=function(e,t){13===e.keyCode&&(e.preventDefault(),w(t))};return c.a.createElement("div",{className:"edit-menu"},c.a.createElement("h2",null,"Edit Menu ",c.a.createElement("i",{className:"eos-icons"},"edit")),c.a.createElement("p",null,"Please enter the following details to create your Digital QR Menu."),c.a.createElement("div",{style:{float:"right"}},localStorage.getItem("restaurantDetails")?c.a.createElement("button",{onClick:function(){return m(l(l({},JSON.parse(localStorage.getItem("restaurantDetails"))),{},{customizedMenu:f}))},style:{color:"#007cbf"},className:"hyperlink btn-link"},"Load saved ",c.a.createElement("i",{className:"eos-icons"},"system_update_alt")):c.a.createElement(c.a.Fragment,null),r.restaurantName?c.a.createElement(c.a.Fragment,null):c.a.createElement("button",{onClick:function(){return m(l(l({},s.a),{},{customizedMenu:f}))},style:{color:"#007cbf"},className:"hyperlink btn-link"},"Fill sample data  ",c.a.createElement("i",{className:"eos-icons"},"keyboard"))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("form",null,c.a.createElement("div",{className:"shadow-box"},c.a.createElement("p",null,"Name of Restaurant"),c.a.createElement("input",{disabled:t,name:"restaurantName",required:!0,className:"form-input",placeholder:"Example: Moti Mahal Deluxe",onChange:function(e){return function(e){var t=l({},r);t.restaurantName=e.target.value,m(t)}(e)},defaultValue:r.restaurantName}),f?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Bio"),c.a.createElement("textarea",{placeholder:"Example: The Best Fast Food restaurant in New Delhi. Contact us at +91 9999999999 or visit A-21, North campus",onChange:function(e){return function(e){var t=l({},r);t.bio=e.target.value,m(t)}(e)},className:"form-input",disabled:t,defaultValue:r.bio})):c.a.createElement(c.a.Fragment,null),c.a.createElement("p",null,"Logo (if any)"),c.a.createElement("input",{disabled:t,type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(t){if(t.size>2e6)return void alert("Please upload an image with size less than 2 mb.");var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var e=l({},r);e.logo=a.result,console.log(a.result),m(e)}}}(e)}}),c.a.createElement("p",null,"Email ID (You can use this to edit Menu later)"),c.a.createElement("input",{disabled:t,type:"email",required:!0,className:"form-input",placeholder:"Example: johndoe@gmail.com",onChange:function(e){return function(e){var t=l({},r);t.emailId=e.target.value,m(t)}(e)},defaultValue:r.emailId})),f?c.a.createElement("div",{className:"shadow-box"},c.a.createElement("div",{style:{display:"inline-block"}},c.a.createElement("p",null,"Theme"),c.a.createElement("select",{onChange:function(e){return function(e){var t=l({},r);t.menu.theme=d[e.target.value],m(t)}(e)},name:"themes"},Object.keys(d).map((function(e,t){return c.a.createElement("option",{className:"form-input",key:t},e)})))),c.a.createElement("div",{style:{display:"inline-block",marginLeft:"48px"}},c.a.createElement("p",null,"Font"),c.a.createElement("select",{onChange:function(e){return function(e){var t=l({},r);t.menu.theme.fontFamily=e.target.value,m(t)}(e)},name:"fonts"},Object.keys(p).map((function(e,t){return c.a.createElement("option",{className:"form-input",key:t,value:Object.values(p)[t]},e)})))),c.a.createElement("br",null),c.a.createElement("div",{style:{display:"inline-block"}},c.a.createElement("p",null,"Font Color"),c.a.createElement("input",{onChange:function(e){return function(e){var t=l({},r);t.menu.theme.color=e.target.value,m(t),console.log(e.target.value)}(e)},type:"color"})),c.a.createElement("div",{style:{display:"inline-block",marginLeft:"48px"}},c.a.createElement("p",null,"Background Color"),c.a.createElement("input",{onChange:function(e){return function(e){var t=l({},r);t.menu.theme.backgroundColor=e.target.value,m(t),console.log(e.target.value)}(e)},type:"color"}))):c.a.createElement(c.a.Fragment,null),r.menu.categories.map((function(e,t){return c.a.createElement("div",{className:"shadow-box",key:t},c.a.createElement("i",{onClick:function(){return function(e){var t=l({},r);t.menu.categories.splice(e,1),m(t)}(t)},style:{float:"right"},className:"eos-icons delete-icon"},"close"),c.a.createElement("p",null,"Title"),c.a.createElement("input",{required:!0,onKeyDown:function(e){return O(e,t)},defaultValue:r.menu.categories[t].title,className:"form-input",onChange:function(e){return function(e,t){var a=l({},r);a.menu.categories[t].title=e.target.value,m(a)}(e,t)},placeholder:"Example: Chinese food"}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",null,r.menu.categories[t].items.map((function(e,a){return c.a.createElement("div",{key:a},c.a.createElement("div",{style:{display:"inline-block"}},c.a.createElement("p",null,"Item Name"),c.a.createElement("input",{required:!0,onChange:function(e){return C("name",e,t,a)},defaultValue:r.menu.categories[t].items[a].itemName,className:"form-input",placeholder:"Eg: French Fries"})),c.a.createElement("div",{style:{display:"inline-block"}},c.a.createElement("p",null,"Price"),c.a.createElement("input",{required:!0,onKeyDown:function(e){return O(e,t)},onChange:function(e){return C("price",e,t,a)},defaultValue:r.menu.categories[t].items[a].itemPrice,className:"form-input",placeholder:"Eg: Half: $4.99 , Full: $9.99"})),c.a.createElement("i",{onClick:function(){return function(e,t){var a=l({},r);a.menu.categories[e].items.splice(t,1),m(a)}(t,a)},className:"eos-icons delete-icon",style:{}},"delete"),f?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Item Description (If any)"),c.a.createElement("textarea",{onChange:function(e){return C("description",e,t,a)},onKeyDown:function(e){return O(e,t)},style:{maxWidth:"330px"},defaultValue:r.menu.categories[t].items[a].itemDescription,className:"form-input",placeholder:"Contains onion, chillies, etc."}),c.a.createElement("br",null),c.a.createElement("br",null)):c.a.createElement(c.a.Fragment,null))}))),c.a.createElement("div",{style:{float:"right"}},c.a.createElement("button",{type:"button",className:"hyperlink btn-link",onClick:function(){return w(t)}},"Add Item ",c.a.createElement("i",{className:"eos-icons"},"add_circle_outline")," ")))})),c.a.createElement("div",null,c.a.createElement("div",{style:{float:"right"}},c.a.createElement("button",{type:"button",className:"hyperlink btn-link",onClick:function(){return function(){var e=l({},r);e.menu.categories.push({title:"",type:"text",items:[]}),m(e)}()}},"Add Category ",c.a.createElement("i",{className:"eos-icons"},"add_circle_outline")," ")),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",{style:{float:"right"}},c.a.createElement("button",{type:"button",onClick:function(e){b||(localStorage.setItem("restaurantDetails",JSON.stringify(r)),E(!0))},className:"black-yellow"},b?c.a.createElement("div",null,"Saved ",c.a.createElement("i",{className:"eos-icons"},"done")):"Save Draft"),c.a.createElement("button",{type:"button",onClick:function(e){return function(e){if(!N){if(k(!0),!r.emailId||!r.restaurantName)return k(!1),void window.alert("Restaurant name and Email Id cannot be blank");var l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},i=t?"".concat(u.a,"/edit/submit/").concat(a,"/").concat(n):"".concat(u.a,"/submit");fetch(i,l).then((function(e){return e.json()})).then((function(e){if(k(!1),console.log(e),e.success){localStorage.removeItem("restaurantDetails");var a=t?"/#/qr/edit/".concat(e.id):"/#/qr/".concat(e.id);window.location=a}else window.alert("Some problem occrred while creating menu")})).catch((function(e){console.log(e),alert("Some error occurred"),k(!1)}))}}()},className:"black-yellow"},N?"Generating...":"Generate QR Menu")))))},g=function(e){var t=Object(o.useState)(e.restaurantDetails),a=Object(i.a)(t,2),n=a[0],r=a[1],m=Object(o.useState)(""),u=Object(i.a)(m,2),s=u[0],p=u[1],f=e.customizedMenu,g=Object(o.useState)(d.Light),h=Object(i.a)(g,2),b=h[0],E=h[1];return Object(o.useEffect)((function(){if(f&&n.menu.theme&&(d[n.menu.theme.themeName]?E(d[n.menu.theme.themeName]):(console.log("No theme name found. Reading theme info"),E(n.menu.theme))),""===s)r(e.restaurantDetails);else{var t=JSON.parse(JSON.stringify(e.restaurantDetails)),a=[];t.menu.categories.forEach((function(e){if(e.title.toLowerCase().includes(s.toLowerCase().trim()))a.push(e);else{for(var t=[],n=0;n<e.items.length;n++)e.items[n].itemName.toLowerCase().includes(s.toLowerCase().trim())&&t.push(e.items[n]);e.items=t,t.length>0&&a.push(e)}})),t.menu.categories=a,r(t)}}),[e.restaurantDetails,n,s,f]),c.a.createElement("div",{className:"shadow-box",style:f?l({},b):{}},c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("h1",null,n.logo?c.a.createElement("img",{src:n.logo,alt:"",className:"restaurant-logo"}):c.a.createElement("i",{className:"eos-icons",style:{color:"red",fontSize:"1em",margin:"8px"}},"local_dining"),n.restaurantName),f?c.a.createElement("h4",null,n.bio):c.a.createElement(c.a.Fragment,null)),c.a.createElement("br",null),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("input",{type:"text",name:"search-restaurant",className:"form-input",placeholder:"Search Menu",onKeyUp:function(e){return p(e.target.value)}})),c.a.createElement("br",null),c.a.createElement("div",null,n.menu.categories.map((function(e,t){return""!==e.title?c.a.createElement("div",{key:t},c.a.createElement("h2",null,e.title),e.items.length>0?c.a.createElement("div",null,n.menu.categories[t].items.map((function(e,t){return c.a.createElement("div",{className:"menu-item",key:t},c.a.createElement("p",{className:"item-name"},e.itemName),c.a.createElement("p",{className:"item-price"},e.itemPrice),f&&e.itemDescription?c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),c.a.createElement("i",{className:"item-description"},e.itemDescription)):c.a.createElement(c.a.Fragment,null),c.a.createElement("br",null),c.a.createElement("br",null))}))):c.a.createElement("div",null)):c.a.createElement("div",{key:t})}))))},h=function(e){var t=e.restaurantDetails;return c.a.createElement("div",{className:"preview-menu"},c.a.createElement("h2",null,"Preview Menu ",c.a.createElement("i",{className:"eos-icons"},"slideshow")),c.a.createElement("p",null,"Once done, click on Generate QR Menu to create your Digital Menu."),c.a.createElement("br",null),c.a.createElement(g,{restaurantDetails:t,customizedMenu:e.customizedMenu}))},b=a(34),E=a.n(b);a(10).a.initialize("G-0BPQRCHTXK");t.default=function(e){var t=Object(o.useState)({emailId:"",restaurantName:"",logo:"",bio:"",customizedMenu:!1,menu:{categories:[],theme:{}}}),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(o.useState)(!1),d=Object(i.a)(s,2),p=d[0],g=d[1],b=Object(o.useState)(!1),y=Object(i.a)(b,2),v=y[0],N=y[1],k=e.edit||!1,w=Object(m.f)(),C=w.menuId,O=w.hash,S=Object(o.useState)(n.customizedMenu),D=Object(i.a)(S,2),j=D[0],F=D[1];k&&!p&&fetch("".concat(u.a,"/view?q=").concat(C)).then((function(e){return e.json()})).then((function(e){g(!0),e.success&&(r(e.data),N(!0))}));return c.a.createElement("div",{className:"container"},function(){if(k){if(!p)return c.a.createElement("div",{className:"loading-div"},c.a.createElement("img",{alt:"",className:"loading-icon",src:E.a}));if(!v)return c.a.createElement("h2",null,"Invalid Edit link")}return c.a.createElement("div",null,c.a.createElement("div",{className:"center-align"},k?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Update Menu"),c.a.createElement("p",null,"Any changes made here will be updated in your old menu only. You can add, delete or update the categories, items and price. The Restaurant name, logo and email ID cannot be changed for now. You don't have to worry for new QR code , the link and QR remains same."),c.a.createElement("br",null)):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Create Menu"),c.a.createElement("p",{style:{fontSize:"1.2em"}},"Creating menu is simple. Just enter your restaurant name, upload Logo and Email ID for future changes.",c.a.createElement("br",null),"That's it. Now you can start adding the Dishes by creating a new category and adding items to it.",c.a.createElement("br",null),c.a.createElement("br",null),"Not enough? Try Customizing menu, add themes, change font, colors, description to each food and more.")),c.a.createElement("div",{className:"checkbox-switch"},c.a.createElement("p",{style:{fontSize:"1.2em",display:"inline-block"}},"Customize Menu"),c.a.createElement("input",{onClick:function(){return function(){var e=!j;F(e),r(l(l({},n),{},{customizedMenu:e}))}()},type:"checkbox"})),c.a.createElement("br",null)),c.a.createElement(f,{restaurantDetails:n,setRestaurantDetails:r,edit:k,menuId:C,hash:O,customizedMenu:j}),c.a.createElement(h,{restaurantDetails:n,customizedMenu:j}))}())}}}]);
//# sourceMappingURL=3.83e345ba.chunk.js.map